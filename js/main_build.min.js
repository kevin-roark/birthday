!function t(e,r,o){function n(a,s){if(!r[a]){if(!e[a]){var c="function"==typeof require&&require;if(!s&&c)return c(a,!0);if(i)return i(a,!0);throw new Error("Cannot find module '"+a+"'")}var u=r[a]={exports:{}};e[a][0].call(u.exports,function(t){var r=e[a][1][t];return n(r?r:t)},u,u.exports,t,e,r,o)}return r[a].exports}for(var i="function"==typeof require&&require,a=0;a<o.length;a++)n(o[a]);return n}({1:[function(t,e){function r(t,e,r,o,i){this.material=n.clone();var a=Math.random();if(.69>a)var s=new THREE.TorusGeometry(o,i,16,16,2*Math.PI);else if(.88>a)var s=new THREE.SphereGeometry(.6*o,16,16);else var c=.35*o+.2*Math.random()-.1,u=c+(.05*Math.random()-.025),s=new THREE.CylinderGeometry(c,u,15*i,16,2);var p=new THREE.Mesh(s,this.material);p.position.set(t,e,r),this.ring=p,this.xrs=.03*Math.random()+.002,this.yrs=.03*Math.random()+.002,this.yd=0}e.exports=r;var o=THREE.ImageUtils.loadTexture("media/gold.png");o.wrapS=o.wrapT=THREE.RepeatWrapping,o.mag_filter=o.min_filter=THREE.LinearFilter,o.repeat.set(1,1),o.anisotropy=8;var n=new THREE.MeshPhongMaterial({ambient:12303291,map:o,shininess:80,side:THREE.DoubleSide});r.prototype.addTo=function(t){t.add(this.ring)},r.prototype.render=function(){this.ring.rotation.x+=this.xrs,this.ring.rotation.y+=this.yrs,this.ring.position.y+=this.yd},r.prototype.rain=function(){this.yd=-1*Math.random()*.03-.002}},{}],2:[function(t,e){function r(t){var e=THREE.ImageUtils.loadTexture(t);return e.wrapS=e.wrapT=THREE.RepeatWrapping,e.mag_filter=e.min_filter=THREE.LinearFilter,e.repeat.set(1,1),e.anisotropy=8,e}function o(t,e){var r=new THREE.MeshPhongMaterial({ambient:16777215,color:16777215,combine:THREE.MixOperation,shading:THREE.FlatShading,map:t,envMap:e,shininess:60,reflectivity:.5,side:THREE.DoubleSide});return r}function n(t,e){var r=new THREE.MeshPhongMaterial({ambient:16777215,color:16777215,combine:THREE.MixOperation,shading:THREE.SmoothShading,map:t,envMap:e,shininess:60,reflectivity:.5,side:THREE.DoubleSide});return r}function i(t,e){return new THREE.MeshFaceMaterial([t,e])}function a(t,e,a,s,c,u){this.map=r(c),this.front=o(this.map,u),this.side=n(this.map,u),this.material=i(this.front,this.side),this.geometry=new THREE.TextGeometry(s,{size:2.2,height:.01,curveSegments:1,font:"droid sans",bevelThickness:.35,bevelSize:.15,bevelSegments:1,bevelEnabled:!0}),this.geometry.computeBoundingBox(),this.geometry.computeVertexNormals(),this.text=new THREE.Mesh(this.geometry,this.material),this.text.position.set(t,e,a),this.text.rotation.y-=.05}e.exports=a,a.prototype.addTo=function(t){t.add(this.text)}},{}],3:[function(t,e){function r(){}function o(t,e){t.css("-webkit-box-shadow",e),t.css("-moz-box-shadow",e),t.css("box-shadow",e)}e.exports=new r,r.prototype.choice=function(t){var e=Math.floor(Math.random()*t.length);return t[e]},r.prototype.shuffle=function(t){for(var e=new Array(t.length),r=0;r<t.length;r++)e[r]=t[r];return e.sort(function(){return.5-Math.random()}),e},r.prototype.randColor=function(){var t=Math.floor(256*Math.random()),e=Math.floor(256*Math.random()),r=Math.floor(256*Math.random());return"rgb("+t+","+e+","+r+")"},r.prototype.randInt=function(t,e){return e?Math.floor(Math.random()*(t-e))+e:Math.floor(Math.random()*t)},r.prototype.colorWheel=function(t){var e="rgb(",r=t%1536,t=r%256;return 256>r?e+"0,255,"+t+")":512>r?e+"0,"+(255-t)+",255)":768>r?e+t+",0,255)":1024>r?e+"255,0,"+(255-t)+")":1280>r?e+"255,"+t+",0)":e+(255-t)+",255,0)"},r.prototype.alphize=function(t,e){return t.replace("rgb","rgba"),t.replace(")",", "+e+")"),t},r.prototype.contrasters=function(){var t=Math.floor(1536*Math.random()),e=this.colorWheel(t),r=this.colorWheel(t+650);return[e,r]},r.prototype.randomShadow=function(t,e){var r=e+"px",n="0px 0px "+r+" "+r+" "+this.randColor();o(t,n)},r.prototype.shadow=function(t,e,r,n,i,a){var s=e+"px",c=r+"px",u=n+"px",p=i+"px",d=s+" "+c+" "+u+" "+p+" "+a;o(t,d)},r.prototype.addTransform=function(t,e){var r=this.getTransform(t);r=r.replace("none","");var o=r+e;this.setTransform(t,o)},r.prototype.setTransform=function(t,e){t.css("-webkit-transform",e),t.css("-moz-transform",e),t.css("-ms-transform",e),t.css("-o-transform",e),t.css("transform",e)},r.prototype.getTransform=function(t){for(var e=["transform","-webkit-transform","-moz-transform","-ms-transform","-o-transform"],r=0;r<e.length;r++){var o=t.css(e[r]);if("none"==o&&r+1<e.length){var n=t.css(e[r+1]);if(n)continue}return o}},r.prototype.clearTransforms=function(t){t.css("-webkit-transform",""),t.css("-moz-transform",""),t.css("-ms-transform",""),t.css("-o-transform",""),t.css("transform","")},r.prototype.rotate=function(t,e){var r=this.getTransform(t);r=r.replace(/matrix\(.*?\)/,"").replace("none","");var o=" rotate("+e+"deg)";this.setTransform(t,r+o)},r.prototype.scale=function(t,e){var r=this.getTransform(t);r=r.replace(/matrix\(.*?\)/,"").replace("none","");var o=" scale("+e+","+e+")";this.setTransform(t,r+o)},r.prototype.translate=function(t,e,r){var o=this.getTransform(t);console.log(o),o=o.replace(/matrix\(.*?\)/,"").replace("none","");var n=" translate("+e+", "+r+")";this.setTransform(t,o+n)},r.prototype.skew=function(t,e,r){var o=this.getTransform(t);o=o.replace(/skew\(.*?\)/,"").replace(/matrix\(.*?\)/,"").replace("none","");var n=e+"deg",i=r+"deg",a=" skew("+n+", "+i+")";this.setTransform(t,o+a)},r.prototype.warp=function(t,e,r,o){var n=this.getTransform(t);n=n.replace(/matrix\(.*?\)/,"").replace("none","");var i=" rotate("+e+"deg)",a=r+"deg",s=o+"deg",c=" skew("+a+", "+s+")";this.setTransform(t,n+i+c)},r.prototype.slaw=function(t,e,r,o){var n=this.getTransform(t);n=n.replace(/matrix\(.*?\)/,"").replace("none","");var i=" scale("+e+","+e+")",a=" translate("+r+", "+o+")";this.setTransform(t,n+i+a)},r.prototype.straw=function(t,e,r){var o=this.getTransform(t);o=o.replace(/matrix\(.*?\)/,"").replace("none","");var n=" scale("+e+","+e+")",i=" rotate("+r+"deg)";this.setTransform(t,o+n+i)},r.prototype.perp=function(t,e){var r=e+"px";t.css("-webkit-perspective",r),t.css("-moz-perspective",r),t.css("-ms-perspective",r),t.css("-o-perspective",r),t.css("perspective",r)},r.prototype.perpo=function(t,e,r){var o=e+"% "+r+"%";t.css("-webkit-perspective-origin",o),t.css("-moz-perspective-origin",o),t.css("-ms-perspective-origin",o),t.css("-o-perspective-origin",o),t.css("perspective-origin",o)},r.prototype.trans3d=function(t,e,r,o){var n=this.getTransform(t);n=n.replace(/matrix3d\(.*?\)/,"").replace("none","");var i=" translate3d("+e+"px, "+r+"px, "+o+"px)";this.setTransform(t,n+i)},r.prototype.scale3d=function(t,e){var r=this.getTransform(t);r=r.replace(/matrix3d\(.*?\)/,"").replace("none","");var o=" scale3d("+e+", "+e+", "+z+")";this.setTransform(t,r+o)},r.prototype.rotate3d=function(t,e,r,o,n){var i=this.getTransform(t);i=i.replace(/matrix3d\(.*?\)/,"").replace("none","");var a=" rotate3d("+e+", "+r+", "+o+", "+n+"deg)";this.setTransform(t,i+a)},r.prototype.rotate3dx=function(t,e){this.rotate3d(t,1,0,0,e)},r.prototype.rotate3dy=function(t,e){this.rotate3d(t,0,1,0,e)},r.prototype.rotate3dz=function(t,e){this.rotate3d(t,0,0,1,e)},r.prototype.addFilter=function(t,e){var r=this.getFilter(t);r=r.replace("none","");var o=r+" "+e;this.setFilter(t,o)},r.prototype.setFilter=function(t,e){t.css("-webkit-filter",e),t.css("-moz-filter",e),t.css("-ms-filter",e),t.css("-o-filter",e),t.css("filter",e)},r.prototype.getFilter=function(t){for(var e=["filter","-webkit-filter","-moz-filter","-ms-filter","-o-filter"],r=0;r<e.length;r++){var o=t.css(e[r]);if("none"==o&&r+1<e.length){var n=t.css(e[r+1]);if(n)continue}return o}},r.prototype.clearFilters=function(t){t.css("-webkit-filter",""),t.css("-moz-filter",""),t.css("-ms-filter",""),t.css("-o-filter",""),t.css("filter","")},r.prototype.grayscale=function(t,e){var r=this.getFilter(t);r=r.replace(/grayscale\(.*?\)/,"").replace("none","");var o=" grayscale("+e+"%)";this.setFilter(t,r+o)},r.prototype.sepia=function(t,e){var r=this.getFilter(t);r=r.replace(/sepia\(.*?\)/,"").replace("none","");var o=" sepia("+e+"%)";this.setFilter(t,r+o)},r.prototype.saturate=function(t,e){var r=this.getFilter(t);r=r.replace(/saturate\(.*?\)/,"").replace("none","");var o=" saturate("+e+"%)";this.setFilter(t,r+o)},r.prototype.invert=function(t,e){var r=this.getFilter(t);r=r.replace(/invert\(.*?\)/,"").replace("none","");var o=" invert("+e+"%)";this.setFilter(t,r+o)},r.prototype.hutate=function(t,e){var r=this.getFilter(t);r=r.replace(/hue-rotate\(.*?\)/,"").replace("none","");var o=" hue-rotate("+e+"deg)";this.setFilter(t,r+o)},r.prototype.opace=function(t,e){var r=this.getFilter(t);r=r.replace(/opacity\(.*?\)/,"").replace("none","");var o=" opacity("+e+"%)";this.setFilter(t,r+o)},r.prototype.brightness=function(t,e){var r=this.getFilter(t);r=r.replace(/brightness\(.*?\)/,"").replace("none","");var o=" brightness("+e+"%)";this.setFilter(t,r+o)},r.prototype.contrast=function(t,e){var r=this.getFilter(t);r=r.replace(/contrast\(.*?\)/,"").replace("none","");var o=" contrast("+e+"%)";this.setFilter(t,r+o)},r.prototype.blur=function(t,e){var r=this.getFilter(t);r=r.replace(/blur\(.*?\)/,"").replace("none","");var o=" blur("+e+"px)";this.setFilter(t,r+o)}},{}],4:[function(t){$(function(){function e(){var t=C();t.addTo(N),ue.push(t),t.rain()}function r(){he++,he==le&&o()}function o(){A.play(),u(),s(),setTimeout(i,1e3),"canvas"!=K&&(setTimeout(c,me),setTimeout(l,ve),setTimeout(T,ye),setTimeout(h,ge),setTimeout(f,Ee),setTimeout(m,we),setTimeout(g,be),setTimeout(I,Te),setTimeout(S,xe),setTimeout(G,Me),a())}function n(){function t(){function t(){te.animate({opacity:"1.0"},B.randInt(15e3,5e3),function(){setTimeout(function(){te.animate({opacity:"0"},B.randInt(15e3,5e3),function(){setTimeout(t,5)})},B.randInt(15e3,1e4))})}function e(){var t=60*Math.random()-30,r=40*Math.random()-20,o=200*Math.random()-190;O.moveTo(J,t,r,o,!0,!1,function(){setTimeout(e,5)})}re.color=new THREE.Color("rgb(255, 255, 215)"),ee.position.set(0,100,250),A.loop=!0,A.currentTime=0,A.play();for(var r=0;9>r;r++)A.play();t(),e()}function e(){$(".footer").animate({opacity:1},600),$(".footer").unbind("mouseenter"),$(".footer").unbind("mouseleave")}e(),setTimeout(t,5e3)}function i(){$(".footer").animate({opacity:0},800),$(".footer").mouseenter(function(){$(this).animate({opacity:1},400)}),$(".footer").mouseleave(function(){$(this).animate({opacity:0},400)})}function a(){}function s(){setTimeout(s,20),E(),H(),R(),w(),b(),x(),M(),k(),P.render(N,J)}function c(){var t=new Y;t.addTo(N)}function u(){oe.addTo(N),fe.lilian=!0,oe.rotate(.2,0,0),oe.move(0,1,-1),oe.mode="zoomin",oe.speed=.005,ee.target=oe.structure}function p(){J.position.set(0,0,0),J.rotation.set(0,0,0)}function d(t){function e(){if(r++,r>o)return void O.moveTo(J,0,0,0,!1,!1,function(){p(),t()});var n=40*Math.random()-20,i=25*Math.random()-12.5,a=4*Math.random()-34;O.moveTo(J,n,i,a,!0,!0,function(){O.moveTo(J,0,0,0,!1,!1,function(){p(),setTimeout(e,1)})})}var r=0,o=B.randInt(4,2);e()}function l(){function t(){ne.addTo(N),fe.fwb=!0,ne.rotate(.1,0,0),ne.move(-2,-1,-1),ne.mode="zoomin",ne.speed=.008,ne.rdy=-.03*ne.rdy,ne.desiredZ=-3.8,ne.desiredY=.24,ne.awayVector.y=-.01,ee.target=ne.structure,re.color=new THREE.Color(3145728)}oe.mode="away",setTimeout(function(){fe.lilian=!1,d(t)},1e4)}function h(){function t(){fe.genwife=!0,ie.addTo(N),ie.rotate(-.1,0,0),ie.move(2,-1,-1),ie.mode="zoomin",ie.speed=.01,ie.rdy=.01*ie.rdy,ie.rdx=.003,ie.desiredZ=-4,ie.desiredY=.5,ie.awayVector.x=-.5*ie.awayVector.x,ee.target=ie.structure,re.color=new THREE.Color(48)}ne.mode="away",setTimeout(function(){fe.fwb=!1,d(t)},1e4)}function f(){function t(){fe.vp=!0,ae.addTo(N),ae.rotate(0,0,0),ae.move(-2,1.2,-1),ae.mode="zoomin",ae.speed=.014,ae.rdx=0,ae.rdy=.002,ae.goCrazy(),ae.desiredZ=-4.2,ae.desiredY=.25,ae.awayVector.x=-1*ae.awayVector.x,ae.awayVector.y=-1*ae.awayVector.y,ee.target=ae.structure,re.color=new THREE.Color(8224)}ie.mode="away",setTimeout(function(){fe.genwife=!1,d(t)},8e3)}function m(){function t(){fe.linked=!0,se.addTo(N),se.rotate(.1,0,0),se.move(2,1.1,-1),se.mode="zoomin",se.speed=.009,se.rdx=.005*se.rdy,se.rdy=.005*se.rdy,se.desiredZ=-5,se.desiredY=.7,ee.target=se.structure,re.color=new THREE.Color(2097184)}ae.mode="away",setTimeout(function(){fe.vp=!1,d(t)},1e4)}function v(t,e,r,o){var n=new q(t,e,r,o);ce.push(n),n.addTo(N),setTimeout(function(){y(n)},B.randInt(1e4,6666))}function y(t){function e(){setTimeout(e,B.randInt(6666,2e3)),t.colorShift()}e()}function T(){v(-2,0,-4,150),setTimeout(function(){v(1.5,0,-4,150)},666),fe.smoke=!0}function g(){function t(){fe.landscape&&(B.brightness(te,B.randInt(350,150)),B.hutate(te,B.randInt(360)),setTimeout(function(){B.brightness(te,100),B.hutate(te,0),setTimeout(t,B.randInt(1200,600))},B.randInt(350,100)))}fe.landscape=!0,t()}function E(){fe.lilian&&oe.render()}function w(){fe.fwb&&ne.render()}function b(){fe.genwife&&ie.render()}function x(){fe.vp&&ae.render()}function M(){fe.linked&&se.render()}function R(){!fe.light}function H(){if(fe.smoke)for(var t=0;t<ce.length;t++)ce[t].render()}function k(){if(fe.gold)for(var t=0;t<ue.length;t++)ue[t].render()}function z(){function t(){var o=C();o.addTo(N),ue.push(o),setTimeout(function(){o.rain(),setTimeout(function(){N.remove(o)},1e4)},B.randInt(1500,500)),++e<r&&setTimeout(t,B.randInt(120,20))}var e=0,r=B.randInt(75,30);t(),setTimeout(function(){for(var t=0;t<ue.length;t++)ue[t].yd=0},2e4)}function C(){var t=6*Math.random()-3,e=6*Math.random()-1.5,r=10*Math.random()-13,o=.3*Math.random()+.05,n=.03*Math.random()+.045,i=new D(t,e,r,o,n);return i}function I(){function t(){z(),setTimeout(function(){fe.gold&&t()},B.randInt(4e4,2e4))}fe.gold=!0,t()}function S(){function t(){var e=F();setTimeout(function(){V(e)},B.randInt(2e3,500)),setTimeout(t,B.randInt(11666,5666))}fe.label=!0,t()}function F(){var t=B.choice(de);return W(t)}function W(t){var e=3*Math.random()-8.5,r=-4*Math.random()-2,o=5*Math.random()-25,n=(B.choice(pe),new U(e,r,o,t,B.choice(pe),_));return n.addTo(N),n}function V(t){function e(){var r=100*Math.random()-50,o=60*Math.random()-30,n=260*Math.random()-250;O.moveTo(t.text,r,o,n,!0,!1,function(){setTimeout(function(){e()},B.randInt(200,50))})}e()}function G(){fe.lilian=!0,oe.mode="rotate",oe.rdx=oe.rdy=.005,O.moveTo(oe.structure,-2,1,-7,!1,!1,function(){oe.goCrazy()}),fe.fwb=!0,ne.mode="rotate",ne.rdx=ne.rdy=.005,O.moveTo(ne.structure,-2.5,-1.2,-8,!1,!1,function(){ne.goCrazy()}),fe.genwife=!0,ie.mode="rotate",ie.rdx=ie.rdy=.005,O.moveTo(ie.structure,2,-1.5,-7,!1,!1,function(){ie.goCrazy()}),fe.vp=!0,ae.mode="rotate",ae.rdx=ae.rdy=.005,O.moveTo(ae.structure,1.7,0,-7,!1,!1,function(){}),se.rdx=se.rdy=.005,se.goCrazy();var t=100,e=setInterval(function(){var r="rgb("+t+", "+t+", "+t+")";re.color=new THREE.Color(r),ee.position.z+=10,t--<=0&&(clearInterval(e),setTimeout(function(){n()},1e3*(A.duration-A.currentTime)))},200)}var P,B=t("./lib/kutility"),L=t("./statue"),q=t("./smoke"),Y=t("./world"),Z=t("./skybox"),_=Z.skybox,j=Z.cubemap,D=t("./gold"),U=t("./label"),O=t("./mover"),A=document.querySelector("#audio"),N=($(A),new THREE.Scene),J=new THREE.PerspectiveCamera(45,window.innerWidth/window.innerHeight,.1,1e3),K="webgl";try{P=new THREE.WebGLRenderer,P.setClearColor(3355443,1)}catch(Q){$(".error").show(),setTimeout(function(){$(".error").fadeOut()},6666),P=new THREE.CanvasRenderer,P.setClearColor(1118481,1),K="canvas",A.loop=!0}P.setSize(window.innerWidth,window.innerHeight),document.body.appendChild(P.domElement);var X=document.querySelector("canvas"),te=$(X);N.add(_);var ee=new THREE.SpotLight(new THREE.Color("rgb(255, 255, 200)"),1.6,1e3);ee.position.set(0,100,250),ee.castShadow=!0,ee.angle=Math.PI/2,ee.exponent=5,ee.shadowDarkness=.8,N.add(ee);var re=new THREE.AmbientLight(4210688);N.add(re);var oe=new L("media/lilian.png",j,2,.7,2),ne=new L("media/fwb.png",j,2,1.5,1.8),ie=new L("media/genwife.png",j,1.8,.9,1.4),ae=new L("media/vp.png",j,1.2,1.9,1.5),se=new L("media/linked.png",j,2.5,.75,1.5),ce=[],ue=[],pe=["media/flame.jpg","media/water.jpg","media/grass.jpg","media/metal.jpg"],de=["facebook","analytics","social media","insights","data feed","consume","friends","features","blogging platform","content","enrich","evolve","stream","stress","presence","connect","functionality","capability","understanding","fear","interaction","reality","empathy","revenue","agency","brand"],le=2,he=0,fe={},me=35e3,ve=45e3,ye=94e3,Te=25e3,ge=98e3,Ee=15e4,we=209e3,be=21e4,xe=47e3,Me=262e3;A.addEventListener("canplaythrough",r);var Re=null,He=!1,ke="";$(document).keypress(function(t){if(t.preventDefault(),He){if(13==t.keyCode)return Re=W(ke),ke="",void(He=!1);var o=String.fromCharCode(t.which);return ke+=o,void console.log(ke)}if(115==t.keyCode)r();else if(117==t.keyCode)ce.length>0&&ce[0].colorShift();else if(105==t.keyCode)ce.length>1&&ce[1].colorShift();else if(111==t.keyCode)for(var n=0;5>n;n++)e();else 112==t.keyCode?Re?(V(Re),Re=null):Re=F():107==t.keyCode&&(He=!0)})})},{"./gold":1,"./label":2,"./lib/kutility":3,"./mover":5,"./skybox":6,"./smoke":7,"./statue":8,"./world":9}],5:[function(t,e){var r=t("./lib/kutility"),o=e.exports.frametime=20;e.exports.moveTo=function(t,e,n,i,a,s,c){function u(){if(t.position.x+=h,t.position.y+=f,t.position.z+=m,t.rotation.x+=v,t.rotation.y+=y,t.rotation.z+=T,l++<=d)setTimeout(u,o);else{if(s){r.randInt(800,300)}else;setTimeout(function(){c()},1)}}var p=r.randInt(4e3,1e3),d=p/o,l=0,h=(e-t.position.x)/d,f=(n-t.position.y)/d,m=(i-t.position.z)/d;if(a)var v=.05*Math.random(),y=.05*Math.random(),T=.05*Math.random();else var v=0,y=0,T=0;u()}},{"./lib/kutility":3}],6:[function(t,e){var r=(t("./lib/kutility"),"media/socialmedia.jpg"),o=[r,r,r,r,r,r],n=THREE.ImageUtils.loadTextureCube(o);n.format=THREE.RGBFormat,n.wrapS=THREE.RepeatWrapping,n.wrapT=THREE.RepeatWrapping,n.repeat.set(2,2);var i=THREE.ShaderLib.cube;i.uniforms.tCube.value=n;var a=new THREE.ShaderMaterial({fragmentShader:i.fragmentShader,vertexShader:i.vertexShader,uniforms:i.uniforms,depthWrite:!1,side:THREE.BackSide,opacity:.5}),s=new THREE.Mesh(new THREE.CubeGeometry(500,500,500),a);e.exports.skybox=s,e.exports.cubemap=n},{"./lib/kutility":3}],7:[function(t,e,r){function o(t,e,r,o){o||(o=250),this.texture=THREE.ImageUtils.loadTexture("media/smoke.png"),this.particles=new THREE.Geometry;for(var a=0;o>a;a++){var s=n(),c=1.7*Math.random()-1,u=i(),p=new THREE.Vector3(s,c,u);this.particles.vertices.push(p)}this.material=new THREE.ParticleBasicMaterial({map:this.texture,transparent:!0,blending:THREE.AdditiveBlending,size:.5,color:1118481}),this.smoke=new THREE.ParticleSystem(this.particles,this.material),this.smoke.sortParticles=!0,this.smoke.position.x=t,this.smoke.position.y=e,this.smoke.position.z=r}function n(){return.3*Math.random()}function i(){return.5*Math.random()}e.exports=r=o;var a=t("./lib/kutility");o.prototype.addTo=function(t){t.add(this.smoke)},o.prototype.render=function(){for(var t=this.particles.vertices.length;t--;){var e=this.particles.vertices[t];e.y+=.02,e.y>=this.smoke.position.y+1.1&&(e.y=Math.random()-1,e.x=n(),e.z=i())}this.particles.__dirtyVertices=!0},o.prototype.colorShift=function(){var t=a.colorWheel(a.randInt(1536));this.smoke.material.color=new THREE.Color(t)}},{"./lib/kutility":3}],8:[function(t,e,r){function o(t,e,r,o,n){this.frontTexture=THREE.ImageUtils.loadTexture(t),this.frontTexture.wrapS=THREE.RepeatWrapping,this.frontTexture.wrapT=THREE.RepeatWrapping,this.frontMaterial=new THREE.MeshPhongMaterial({map:this.frontTexture,envMap:e,shininess:100,combine:THREE.MixOperation,reflectivity:.35});var a=[];a.push(this.frontMaterial);for(var s=0;5>s;s++)a.push(this.frontMaterial.clone());this.statueMaterial=new THREE.MeshFaceMaterial(a),this.geometry=new THREE.CubeGeometry(r,o,n),this.structure=new THREE.Mesh(this.geometry,this.statueMaterial),this.mode=null,this.speed=i,this.zoombackSpeed=.5,this.rdx=0,this.rdy=.01,this.zbackthresh=-50,this.desiredZ=-5,this.desiredY=1,this.awayVector={x:.25,y:.2,z:-.2}}e.exports=r=o;var n=t("./lib/kutility"),i=.005;o.prototype.addTo=function(t){t.add(this.structure)},o.prototype.rotate=function(t,e){this.structure.rotation.x+=t,this.structure.rotation.y+=e},o.prototype.move=function(t,e,r){this.structure.position.x+=t,this.structure.position.y+=e,this.structure.position.z+=r},o.prototype.clear=function(){this.structure.rotation.x=0,this.structure.rotation.y=0},o.prototype.colorSides=function(){for(var t=this.statueMaterial.materials,e=0;e<t.length;e++)if(3!=e){var r=t[e],o=n.colorWheel(n.randInt(1536));r.color=new THREE.Color(o)}},o.prototype.render=function(){if("zoomin"==this.mode)this.move(0,0,-1*this.speed),this.speed=Math.max(this.speed,i*Math.abs(this.structure.position.z)*.8),this.structure.position.z<=this.zbackthresh&&(this.mode="zoomback",this.structure.position.x=0,this.structure.position.y=this.desiredY);else if("zoomback"==this.mode)this.move(0,0,this.zoombackSpeed),this.structure.position.z>=this.desiredZ&&(this.mode="rotate");else if("rotate"==this.mode)this.rotate(this.rdx,this.rdy);else if("away"==this.mode){var t=Math.random()*this.awayVector.x-.05,e=Math.random()*this.awayVector.y-.05,r=Math.random()*this.awayVector.z-.05;this.move(t,e,r),this.structure.position.z<=this.zbackthresh-10&&(this.mode="gone")}},o.prototype.goCrazy=function(){var t=this;this.timer=setInterval(function(){t.rdy*=1.012},100)}},{"./lib/kutility":3}],9:[function(t,e){function r(){this.numCubes=60,this.cubes=[];for(var t=0;t<this.numCubes;t++){var e=n();this.cubes.push(e)}}var o=t("./lib/kutility");e.exports=r;var n=function(){var t=o.randInt(15,4),e=o.randInt(10,3),r=o.randInt(6,1),n=new THREE.CubeGeometry(t,e,r),i=new THREE.MeshBasicMaterial({wireframe:!1,transparent:!0,opacity:.3}),a=o.colorWheel(o.randInt(1536));i.color=new THREE.Color(a),i.wireframeLinewidth=.5;var s=new THREE.Mesh(n,i),c=40*Math.random()-20,u=25*Math.random()-12.5,p=6*Math.random()-35;return s.position.set(c,u,p),s};r.prototype.addTo=function(t){function e(){t.add(n.cubes[r]),++r<n.cubes.length&&setTimeout(e,o.randInt(400,50))}var r=0,n=this;e()},r.prototype.addBox=function(t){var e=n();this.cubes.push(e),t.add(e)}},{"./lib/kutility":3}]},{},[4]);